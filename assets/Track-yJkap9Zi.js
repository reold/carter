import{d as Z,p as C,a as A,B as T,t as _,e as s,s as u,j as k,F as f,i as g,h as b,L as V,N as q,c as p,b as F,g as l,O as H}from"./index-DlJuvb72.js";import{i as N}from"./if--_cbd3ch.js";import{h as x}from"./Dash-1zr9jQJX.js";import{s as O}from"./Lyrics-BGBH-9Yu.js";var P=(h,a,d)=>{a()||d.onPlay()},D=_('<img alt="cover art" class="max-h-[8dvh]" loading="lazy">'),G=H('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-full stroke-violet-500"><path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"></path></svg>'),I=_('<div role="button" tabindex="0"><button><!></button> <button class="flex flex-col overflow-x-hidden -space-y-1 justify-center text-left w-full"><h2><!></h2> <span class="font-base text-[0.7em] text-black/80 dark:text-white/80 pl-2 truncate max-w-full"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-[0.7em] inline"><path stroke-linecap="round" stroke-linejoin="round" d="m16.49 12 3.75 3.75m0 0-3.75 3.75m3.75-3.75H3.74V4.499"></path></svg> <!></span></button> <button class="p-0 text-black dark:text-white rounded-full aspect-square flex flex-col items-center justify-center" aria-label="visit source link"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" class="size-[1.2em] dark:stroke-white/50 stroke-black/50"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"></path></svg></button></div>');function S(h,a){C(a,!0);const d=A(a,"playing",3,!1);let o=T({held:!1,originX:0,originY:0,completed:!1});const n={start:({clientX:t,clientY:e})=>{o.held=!0,o.originX=t,o.originY=e,l(i,!0),window.addEventListener("pointerup",n.end),window.addEventListener("pointermove",n.move)},move:({clientX:t,clientY:e})=>{if(!o.held)return;const B=t-o.originX,E=e-o.originY;Math.abs(E)>50?(o.held=!1,l(i,!1)):B<-50?l(m,!0):l(m,!1)},end:()=>{o.held=!1,o.completed=!0,l(i,!1),window.removeEventListener("pointermove",n.move),window.removeEventListener("pointerup",n.end)}};let i=b(!1),m=b(!1);var r=I();r.__pointerdown=function(...t){var e;(e=n.start)==null||e.apply(this,t)},r.__pointerup=function(...t){var e;(e=n.end)==null||e.apply(this,t)};var c=s(r);c.__click=[P,d,a];var y=s(c);{var j=t=>{var e=D();k(()=>O(e,"src",a.track.image)),p(t,e)},M=t=>{var e=G();p(t,e)};N(y,t=>{a.track.image?t(j):t(M,!1)})}var w=u(c,2),v=s(w),X=s(v);x(X,()=>a.track.title);var Y=u(v,2),z=u(s(Y),2);x(z,()=>a.track.subtitle);var L=u(w,2);L.__click=function(...t){var e;(e=a.onMoreActions)==null||e.apply(this,t)},k(()=>{f(r,1,`w-full h-[10dvh] pl-1.5 min-h-[7dvh] ring-zinc-500 text-black dark:text-white overflow-hidden flex flex-row space-x-3 border-b-2 border-black/5 dark:border-white/5 py-2 select-none transition-colors duration-100 ${g(i)?"bg-black/5 dark:bg-white/5":"bg-transparent"}`),f(c,1,`p-0 m-0 max-w-[20%] my-auto transition-transform duration-200 rounded-[0.5em] overflow-hidden ${g(i)?"scale-105":""}`),f(v,1,`font-medium text-base max-w-full truncate ${d()?"text-violet-600 dark:text-violet-500":""}`)}),V(3,r,()=>q,()=>({duration:500})),p(h,r),F()}Z(["pointerdown","pointerup","click"]);export{S as T};
