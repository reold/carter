const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Search-zbmO2CCP.js","assets/index-DlJuvb72.js","assets/index-CefyohV5.css","assets/if--_cbd3ch.js","assets/each-COnLG13Y.js","assets/Sheet-DSUjmZvy.js","assets/_commonjsHelpers-bCvonFe7.js","assets/Track-yJkap9Zi.js","assets/Lyrics-BGBH-9Yu.js","assets/this-BP2x33V1.js","assets/svelte-head-D8G2NoFW.js","assets/services.svelte-ClCaElF2.js","assets/ssh-DIBZLRCX.js","assets/legacy-Dz8hq512.js","assets/Library-BZGa8NqV.js","assets/Settings-DA-pUJla.js"])))=>i.map(i=>d[i]);
var xt=Object.defineProperty;var rt=a=>{throw TypeError(a)};var kt=(a,t,s)=>t in a?xt(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;var ot=(a,t,s)=>kt(a,typeof t!="symbol"?t+"":t,s),Ve=(a,t,s)=>t.has(a)||rt("Cannot "+s);var le=(a,t,s)=>(Ve(a,t,"read from private field"),s?s.call(a):t.get(a)),_e=(a,t,s)=>t.has(a)?rt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,s),Je=(a,t,s,l)=>(Ve(a,t,"write to private field"),l?l.call(a,s):t.set(a,s),s),st=(a,t,s)=>(Ve(a,t,"access private method"),s);import{j as J,k as yt,r as Mt,l as Lt,m as Ct,n as Me,o as At,u as $,q as Et,v as St,w as qe,x as qt,y as nt,i as x,z as Tt,A as $t,p as Ne,a as We,B as me,h as ke,g as fe,C as Te,b as Ie,t as H,e as m,c as A,D as $e,f as ne,s as b,E as te,d as Be,F as ve,G as ze,H as Ke,I as Xe,J as et,V as F,K as X,T as Le,_ as Qe,$ as zt,L as oe,M as Ce,N as ce,O as Pe,P as Zt}from"./index-DlJuvb72.js";import{i as P}from"./if--_cbd3ch.js";import{e as Ze,i as je}from"./each-COnLG13Y.js";import{h as jt}from"./svelte-head-D8G2NoFW.js";import{s as Ge,L as Ht}from"./Lyrics-BGBH-9Yu.js";import{S as Dt,s as Ae}from"./Sheet-DSUjmZvy.js";import{b as Se,g as Nt,a as It}from"./_commonjsHelpers-bCvonFe7.js";import{b as Bt}from"./this-BP2x33V1.js";import{$ as Pt,P as ut,d as vt}from"./services.svelte-ClCaElF2.js";import{f as Rt}from"./ssh-DIBZLRCX.js";import"./legacy-Dz8hq512.js";function pe(a,t,s=!1,l=!1,n=!1){var o=a,e="";J(()=>{var u=yt;if(e!==(e=t()??"")&&(u.nodes_start!==null&&(Mt(u.nodes_start,u.nodes_end),u.nodes_start=u.nodes_end=null),e!=="")){var r=e+"";s?r=`<svg>${r}</svg>`:l&&(r=`<math>${r}</math>`);var c=Lt(r);if((s||l)&&(c=Me(c)),Ct(Me(c),c.lastChild),s||l)for(;Me(c);)o.before(Me(c));else o.before(c)}})}var de,be,ye,He,pt;const De=class De{constructor(t){_e(this,He);_e(this,de,new WeakMap);_e(this,be);_e(this,ye);Je(this,ye,t)}observe(t,s){var l=le(this,de).get(t)||new Set;return l.add(s),le(this,de).set(t,l),st(this,He,pt).call(this).observe(t,le(this,ye)),()=>{var n=le(this,de).get(t);n.delete(s),n.size===0&&(le(this,de).delete(t),le(this,be).unobserve(t))}}};de=new WeakMap,be=new WeakMap,ye=new WeakMap,He=new WeakSet,pt=function(){return le(this,be)??Je(this,be,new ResizeObserver(t=>{for(var s of t){De.entries.set(s.target,s);for(var l of le(this,de).get(s.target)||[])l(s)}}))},ot(De,"entries",new WeakMap);let Ye=De;var Ut=new Ye({box:"border-box"});function Ot(a,t,s){var l=Ut.observe(a,()=>s(a[t]));At(()=>($(()=>s(a[t])),l))}function Ft(a=!1){const t=Et,s=t.l.u;if(!s)return;let l=()=>Tt(t.s);if(a){let n=0,o={};const e=$t(()=>{let u=!1;const r=t.s;for(const c in r)r[c]!==o[c]&&(o[c]=r[c],u=!0);return u&&n++,n});l=()=>x(e)}s.b.length&&St(()=>{it(t,l),nt(s.b)}),qe(()=>{const n=$(()=>s.m.map(qt));return()=>{for(const o of n)typeof o=="function"&&o()}}),s.a.length&&qe(()=>{it(t,l),nt(s.a)})}function it(a,t){if(a.l.s)for(const s of a.l.s)x(s);t()}var Vt=H('<span class="text-black/50 dark:text-white/50"> </span> JAM Session',1),Jt=H('<span class="text-black/50 dark:text-white/50 text-sm"> </span> ',1),Qt=H('<h1 class="text-black dark:text-white select-none truncate max-w-[80dvw]"><!></h1>'),Wt=H(`<input type="text" name="room title" id="room title" placeholder="Session Name, e.g., Varun's Party Music" class="bg-white/5 ring-0 focus:outline-hidden rounded-md py-1 px-2 text-white">`),Xt=(a,t,s,l)=>{t().create?s():l()},Gt=H(`<p class="text-black dark:text-white text-sm select-none">JAM Sessions let you and your friends enjoy music together, no matter
        where you are in the world. <span class=" text-black/50 dark:text-white/50">Your client ID is unique to your browser. If you switch browsers,
          you'll need to start a new session, as your previous one cannot be
          resumed.</span></p> <div class="flex flex-col space-y-2 w-[95dvw] mt-[5dvh]"><p class="text-red-500 text-xs"> </p> <div class="text-white flex flex-row items-center bg-white/5 rounded-md"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-[1.2em] ml-2"><path fill-rule="evenodd" d="M17.834 6.166a8.25 8.25 0 1 0 0 11.668.75.75 0 0 1 1.06 1.06c-3.807 3.808-9.98 3.808-13.788 0-3.808-3.807-3.808-9.98 0-13.788 3.807-3.808 9.98-3.808 13.788 0A9.722 9.722 0 0 1 21.75 12c0 .975-.296 1.887-.809 2.571-.514.685-1.28 1.179-2.191 1.179-.904 0-1.666-.487-2.18-1.164a5.25 5.25 0 1 1-.82-6.26V8.25a.75.75 0 0 1 1.5 0V12c0 .682.208 1.27.509 1.671.3.401.659.579.991.579.332 0 .69-.178.991-.579.3-.4.509-.99.509-1.671a8.222 8.222 0 0 0-2.416-5.834ZM15.75 12a3.75 3.75 0 1 0-7.5 0 3.75 3.75 0 0 0 7.5 0Z" clip-rule="evenodd"></path></svg> <input type="text" name="username" id="username" placeholder="Username" class="bg-transparent ring-0 focus:outline-hidden w-full py-1 pr-2"></div> <!> <p class="text-zinc-500 flex flex-row items-center space-x-2 h-[2ch] overflow-hidden"><span class="text-xs">room-id:</span> <span class="truncate w-[75dvw] inline-block text-xs whitespace-nowrap"> </span></p> <button class="text-white bg-purple-500 rounded-md font-bold select-none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-[1em] inline"><path fill-rule="evenodd" d="M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z" clip-rule="evenodd"></path></svg> </button></div>`,1),Yt=(a,t)=>t(),Kt=H('<p><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-[0.8em] inline -mr-1"><path fill-rule="evenodd" d="M17.834 6.166a8.25 8.25 0 1 0 0 11.668.75.75 0 0 1 1.06 1.06c-3.807 3.808-9.98 3.808-13.788 0-3.808-3.807-3.808-9.98 0-13.788 3.807-3.808 9.98-3.808 13.788 0A9.722 9.722 0 0 1 21.75 12c0 .975-.296 1.887-.809 2.571-.514.685-1.28 1.179-2.191 1.179-.904 0-1.666-.487-2.18-1.164a5.25 5.25 0 1 1-.82-6.26V8.25a.75.75 0 0 1 1.5 0V12c0 .682.208 1.27.509 1.671.3.401.659.579.991.579.332 0 .69-.178.991-.579.3-.4.509-.99.509-1.671a8.222 8.222 0 0 0-2.416-5.834ZM15.75 12a3.75 3.75 0 1 0-7.5 0 3.75 3.75 0 0 0 7.5 0Z" clip-rule="evenodd"></path></svg> </p>'),ea=H('<p class="text-xs ml-auto"> </p>'),ta=H('<div><!> <p class="px-2 text-white -mt-[0.2em] text-base"> </p> <!></div>'),aa=(a,t)=>{a.key=="Enter"&&t()},ra=(a,t)=>t(),oa=H('<div class="w-dvw h-[80dvh] max-h-[70dvh] overflow-y-scroll overflow-x-hidden text-white ring-1 ring-white/5 mb-2"><div class="sticky top-0 flex flex-row justify-end border-b-0 w-dvw h-[5dvh]"><button aria-label="copy session invite link" class="w-[15%] flex flex-col items-center justify-center rounded-bl-md overflow-hidden p-0 m-0 max-h-[3em] select-none bg-linear-to-b from-black/10 dark:from-white/10 to-black/5 dark:to-white/5 backdrop-blur-3xl"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="text-violet-500 aspect-square p-[0.1em] h-[2em] inline-block"><path fill-rule="evenodd" d="M15.75 4.5a3 3 0 1 1 .825 2.066l-8.421 4.679a3.002 3.002 0 0 1 0 1.51l8.421 4.679a3 3 0 1 1-.729 1.31l-8.421-4.678a3 3 0 1 1 0-4.132l8.421-4.679a3 3 0 0 1-.096-.755Z" clip-rule="evenodd"></path></svg></button></div> <!></div> <div class="text-white flex flex-row items-center bg-white/5 rounded-md w-[95dvw] bg-red-500"><input type="text" name="message" id="message" placeholder="send a message" class="bg-transparent ring-0 focus:outline-hidden w-full py-1 pl-2"> <button class="p-0 m-0 select-none" aria-label="send message"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-[1.2em] mr-2"><path d="M3.478 2.404a.75.75 0 0 0-.926.941l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.519 60.519 0 0 0 18.445-8.986.75.75 0 0 0 0-1.218A60.517 60.517 0 0 0 3.478 2.404Z"></path></svg></button></div>',1);function sa(a,t){Ne(t,!0);let s=We(t,"visible",15,!1),l=We(t,"info",19,()=>({create:!0,roomId:""})),n=me({username:"",sessionName:"",warning:""}),o=ke(void 0),e=ke(void 0),u=me(new Set),r=me({connected:!1,activity:"",id:"",clientid:"",name:"",messages:[]});qe(()=>{var k;r.messages,(k=x(o))==null||k.scrollTo({top:x(o).scrollHeight,behavior:"smooth"})}),qe(()=>{s()&&!x(e)&&(fe(e,new Pt,!0),x(e).on("open",k=>{r.clientid=k,l().create?r.id=k:r.id=l().roomId}),x(e).on("connection",c))}),Te(()=>()=>{var k;u.forEach(q=>q.close()),(k=x(e))==null||k.destroy()});function c(k){var q;u.add(k),l().create&&k.on("open",()=>{k.send({type:"meta",roomname:r.name})}),r.messages=[...r.messages,{username:"server",content:`${((q=k.metadata)==null?void 0:q.username)||"A user"} has connected`,time:String(Date.now()/1e3)}],v(),k.on("data",L=>{L.type==="msg"&&(r.messages=[...r.messages,{username:L.username,content:L.content,time:String(Date.now()/1e3)}]),L.type=="meta"&&(r.name=L.roomname)}),k.on("close",()=>{var L;u.delete(k),r.messages=[...r.messages,{username:"server",content:`${((L=k.metadata)==null?void 0:L.username)||"A user"} has disconnected`,time:String(Date.now()/1e3)}],v()})}function v(){r.activity=`(${u.size+1})`}const _=()=>{if(n.username=n.username.trim(),n.username.length<4){n.warning="username must be more than 3 characters in length";return}n.sessionName.length==0&&(n.sessionName=`${n.username}'s session`),r.name=n.sessionName,r.connected=!0,v(),r.messages=[...r.messages,{username:"svara",content:"created session successfully, invite your friends",time:String(Date.now()/1e3)}]},y=()=>{if(!l().roomId){n.warning="room id is required";return}if(n.username=n.username.trim(),n.username.length<4){n.warning="username must be more than 3 characters in length";return}if(!l().roomId||!x(e)){n.warning="Invalid room ID or peer not initialized";return}const k=x(e).connect(l().roomId,{metadata:{username:n.username}});k.on("open",()=>{c(k),r.connected=!0,r.name="Untitled Session",v(),r.messages=[...r.messages,{username:"svara",content:"joined session successfully, invite your friends",time:String(Date.now()/1e3)}]})},g=()=>{if(!x(S).length)return;const k={type:"msg",username:n.username,content:x(S),time:String(Date.now()/1e3)};r.messages=[...r.messages,k],u.forEach(q=>{q.send(k)}),fe(S,"")},E=()=>{navigator.clipboard.writeText(`${window.location.host+window.location.pathname}#join${r.id}`),r.messages=[...r.messages,{username:"svara",content:"invite copied to clipboard",time:String(Date.now()/1e3)}]};let S=ke("");Dt(a,{get visible(){return s()},set visible(L){s(L)},title:L=>{var z=Qt(),D=m(z);{var C=f=>{var w=Vt(),M=ne(w),Z=m(M);J(()=>te(Z,l().create?"Create:":"Join:")),A(f,w)},h=f=>{var w=Jt(),M=ne(w),Z=m(M),T=b(M);J(()=>{te(Z,r.activity),te(T,` ${r.name??""}`)}),A(f,w)};P(D,f=>{r.connected?f(h,!1):f(C)})}A(L,z)},body:L=>{var z=$e(),D=ne(z);{var C=f=>{var w=Gt(),M=b(ne(w),2),Z=m(M),T=m(Z),j=b(Z,2),R=b(m(j),2),I=b(j,2);{var G=Y=>{var se=Wt();Se(se,()=>n.sessionName,N=>n.sessionName=N),A(Y,se)};P(I,Y=>{l().create&&Y(G)})}var V=b(I,2),O=b(m(V),2),ie=m(O),ae=b(V,2);ae.__click=[Xt,l,_,y];var re=b(m(ae));J(()=>{te(T,n.warning),te(ie,r.id),Ge(ae,"aria-label",`${l().create?"create":"join"} jam session`),te(re,` ${l().create?"create":"join"}`)}),Se(R,()=>n.username,Y=>n.username=Y),A(f,w)},h=f=>{var w=oa(),M=ne(w),Z=m(M),T=m(Z);T.__click=[Yt,E];var j=b(Z,2);Ze(j,17,()=>r.messages,je,(V,O,ie)=>{var ae=ta(),re=m(ae);{var Y=K=>{var ee=Kt(),ue=b(m(ee));J(we=>{ve(ee,1,`${we??""} text-lg font-medium px-0.5 rounded-r-md inline-block max-w-[95%] truncate`),te(ue,` ${x(O).username??""}`)},[()=>["server","svara"].includes(x(O).username)?"text-red-400":"text-purple-400"]),A(K,ee)};P(re,K=>{var ee;((ee=r.messages[ie-1])==null?void 0:ee.username)!==x(O).username&&K(Y)})}var se=b(re,2),N=m(se),U=b(se,2);{var ge=K=>{var ee=ea(),ue=m(ee);J(we=>te(ue,we),[()=>new Date(Number(x(O).time)*1e3).toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit",hour12:!0})]),A(K,ee)};P(U,K=>{x(O).time&&K(ge)})}J(()=>{ve(ae,1,`${x(O).username==n.username?"ml-auto rounded-br-none mr-1":"rounded-bl-none ml-1"} ${ie-1!==-1&&r.messages[ie-1].username===x(O).username?"mt-[0.25em]":"mt-[0.5em]"} rounded-lg p-1 bg-white/5 flex flex-col items-start justify-center w-fit min-w-[20dvw] max-w-[80dvw]`),te(N,x(O).content)}),A(V,ae)}),Bt(M,V=>fe(o,V),()=>x(o));var R=b(M,2),I=m(R);I.__keyup=[aa,g];var G=b(I,2);G.__click=[ra,g],Se(I,()=>x(S),V=>fe(S,V)),A(f,w)};P(D,f=>{r.connected?f(h,!1):f(C)})}A(L,z)},$$slots:{title:!0,body:!0}}),Ie()}Be(["click","keyup"]);var na=Rt;const xe=Nt(na);var Ee=function(a,t){return a<t?-1:a>t?1:0},lt=function(a){return a.reduce(function(t,s){return t+s},0)},ia=function(){function a(s){this.colors=s}var t=a.prototype;return t.palette=function(){return this.colors},t.map=function(s){return s},a}(),la=function(){function a(o,e,u){return(o<<10)+(e<<5)+u}function t(o){var e=[],u=!1;function r(){e.sort(o),u=!0}return{push:function(c){e.push(c),u=!1},peek:function(c){return u||r(),c===void 0&&(c=e.length-1),e[c]},pop:function(){return u||r(),e.pop()},size:function(){return e.length},map:function(c){return e.map(c)},debug:function(){return u||r(),e}}}function s(o,e,u,r,c,v,_){var y=this;y.r1=o,y.r2=e,y.g1=u,y.g2=r,y.b1=c,y.b2=v,y.histo=_}function l(){this.vboxes=new t(function(o,e){return Ee(o.vbox.count()*o.vbox.volume(),e.vbox.count()*e.vbox.volume())})}function n(o,e){if(e.count()){var u=e.r2-e.r1+1,r=e.g2-e.g1+1,c=Math.max.apply(null,[u,r,e.b2-e.b1+1]);if(e.count()==1)return[e.copy()];var v,_,y,g,E=0,S=[],k=[];if(c==u)for(v=e.r1;v<=e.r2;v++){for(g=0,_=e.g1;_<=e.g2;_++)for(y=e.b1;y<=e.b2;y++)g+=o[a(v,_,y)]||0;S[v]=E+=g}else if(c==r)for(v=e.g1;v<=e.g2;v++){for(g=0,_=e.r1;_<=e.r2;_++)for(y=e.b1;y<=e.b2;y++)g+=o[a(_,v,y)]||0;S[v]=E+=g}else for(v=e.b1;v<=e.b2;v++){for(g=0,_=e.r1;_<=e.r2;_++)for(y=e.g1;y<=e.g2;y++)g+=o[a(_,y,v)]||0;S[v]=E+=g}return S.forEach(function(q,L){k[L]=E-q}),function(q){var L,z,D,C,h,f=q+"1",w=q+"2",M=0;for(v=e[f];v<=e[w];v++)if(S[v]>E/2){for(D=e.copy(),C=e.copy(),h=(L=v-e[f])<=(z=e[w]-v)?Math.min(e[w]-1,~~(v+z/2)):Math.max(e[f],~~(v-1-L/2));!S[h];)h++;for(M=k[h];!M&&S[h-1];)M=k[--h];return D[w]=h,C[f]=D[w]+1,[D,C]}}(c==u?"r":c==r?"g":"b")}}return s.prototype={volume:function(o){var e=this;return e._volume&&!o||(e._volume=(e.r2-e.r1+1)*(e.g2-e.g1+1)*(e.b2-e.b1+1)),e._volume},count:function(o){var e=this,u=e.histo;if(!e._count_set||o){var r,c,v,_=0;for(r=e.r1;r<=e.r2;r++)for(c=e.g1;c<=e.g2;c++)for(v=e.b1;v<=e.b2;v++)_+=u[a(r,c,v)]||0;e._count=_,e._count_set=!0}return e._count},copy:function(){var o=this;return new s(o.r1,o.r2,o.g1,o.g2,o.b1,o.b2,o.histo)},avg:function(o){var e=this,u=e.histo;if(!e._avg||o){var r,c,v,_,y=0,g=0,E=0,S=0;if(e.r1===e.r2&&e.g1===e.g2&&e.b1===e.b2)e._avg=[e.r1<<3,e.g1<<3,e.b1<<3];else{for(c=e.r1;c<=e.r2;c++)for(v=e.g1;v<=e.g2;v++)for(_=e.b1;_<=e.b2;_++)y+=r=u[a(c,v,_)]||0,g+=r*(c+.5)*8,E+=r*(v+.5)*8,S+=r*(_+.5)*8;e._avg=y?[~~(g/y),~~(E/y),~~(S/y)]:[~~(8*(e.r1+e.r2+1)/2),~~(8*(e.g1+e.g2+1)/2),~~(8*(e.b1+e.b2+1)/2)]}}return e._avg},contains:function(o){var e=this,u=o[0]>>3;return gval=o[1]>>3,bval=o[2]>>3,u>=e.r1&&u<=e.r2&&gval>=e.g1&&gval<=e.g2&&bval>=e.b1&&bval<=e.b2}},l.prototype={push:function(o){this.vboxes.push({vbox:o,color:o.avg()})},palette:function(){return this.vboxes.map(function(o){return o.color})},size:function(){return this.vboxes.size()},map:function(o){for(var e=this.vboxes,u=0;u<e.size();u++)if(e.peek(u).vbox.contains(o))return e.peek(u).color;return this.nearest(o)},nearest:function(o){for(var e,u,r,c=this.vboxes,v=0;v<c.size();v++)((u=Math.sqrt(Math.pow(o[0]-c.peek(v).color[0],2)+Math.pow(o[1]-c.peek(v).color[1],2)+Math.pow(o[2]-c.peek(v).color[2],2)))<e||e===void 0)&&(e=u,r=c.peek(v).color);return r},forcebw:function(){var o=this.vboxes;o.sort(function(c,v){return Ee(lt(c.color),lt(v.color))});var e=o[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(o[0].color=[0,0,0]);var u=o.length-1,r=o[u].color;r[0]>251&&r[1]>251&&r[2]>251&&(o[u].color=[255,255,255])}},{quantize:function(o,e){if(!Number.isInteger(e)||e<1||e>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!o.length||e<2||e>256||!o.length||e<2||e>256)return!1;for(var u=[],r=new Set,c=0;c<o.length;c++){var v=o[c],_=v.join(",");r.has(_)||(r.add(_),u.push(v))}if(u.length<=e)return new ia(u);var y=function(L){var z,D=new Array(32768);return L.forEach(function(C){z=a(C[0]>>3,C[1]>>3,C[2]>>3),D[z]=(D[z]||0)+1}),D}(o);y.forEach(function(){});var g=function(L,z){var D,C,h,f=1e6,w=0,M=1e6,Z=0,T=1e6,j=0;return L.forEach(function(R){(D=R[0]>>3)<f?f=D:D>w&&(w=D),(C=R[1]>>3)<M?M=C:C>Z&&(Z=C),(h=R[2]>>3)<T?T=h:h>j&&(j=h)}),new s(f,w,M,Z,T,j,z)}(o,y),E=new t(function(L,z){return Ee(L.count(),z.count())});function S(L,z){for(var D,C=L.size(),h=0;h<1e3;){if(C>=z||h++>1e3)return;if((D=L.pop()).count()){var f=n(y,D),w=f[0],M=f[1];if(!w)return;L.push(w),M&&(L.push(M),C++)}else L.push(D),h++}}E.push(g),S(E,.75*e);for(var k=new t(function(L,z){return Ee(L.count()*L.volume(),z.count()*z.volume())});E.size();)k.push(E.pop());S(k,e);for(var q=new l;k.size();)q.push(k.pop());return q}}}().quantize,ft=function(a){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=a.naturalWidth,this.height=this.canvas.height=a.naturalHeight,this.context.drawImage(a,0,0,this.width,this.height)};ft.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var he=function(){};he.prototype.getColor=function(a,t){return t===void 0&&(t=10),this.getPalette(a,5,t)[0]},he.prototype.getPalette=function(a,t,s){var l=function(u){var r=u.colorCount,c=u.quality;if(r!==void 0&&Number.isInteger(r)){if(r===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");r=Math.max(r,2),r=Math.min(r,20)}else r=10;return(c===void 0||!Number.isInteger(c)||c<1)&&(c=10),{colorCount:r,quality:c}}({colorCount:t,quality:s}),n=new ft(a),o=function(u,r,c){for(var v,_,y,g,E,S=u,k=[],q=0;q<r;q+=c)_=S[0+(v=4*q)],y=S[v+1],g=S[v+2],((E=S[v+3])===void 0||E>=125)&&(_>250&&y>250&&g>250||k.push([_,y,g]));return k}(n.getImageData().data,n.width*n.height,l.quality),e=la(o,l.colorCount);return e?e.palette():null},he.prototype.getColorFromUrl=function(a,t,s){var l=this,n=document.createElement("img");n.addEventListener("load",function(){var o=l.getPalette(n,5,s);t(o[0],a)}),n.src=a},he.prototype.getImageData=function(a,t){var s=new XMLHttpRequest;s.open("GET",a,!0),s.responseType="arraybuffer",s.onload=function(){if(this.status==200){var l=new Uint8Array(this.response);i=l.length;for(var n=new Array(i),o=0;o<l.length;o++)n[o]=String.fromCharCode(l[o]);var e=n.join(""),u=window.btoa(e);t("data:image/png;base64,"+u)}},s.send()},he.prototype.getColorAsync=function(a,t,s){var l=this;this.getImageData(a,function(n){var o=document.createElement("img");o.addEventListener("load",function(){var e=l.getPalette(o,5,s);t(e[0],this)}),o.src=n})};const ca={capitalize:a=>a.length===0?a:a.charAt(0).toUpperCase()+a.slice(1)},ct={rgb:{toHsl:(a,t,s)=>{a/=255,t/=255,s/=255;const l=Math.max(a,t,s),n=Math.min(a,t,s);let o=0,e=0,u=(l+n)/2;if(l!==n){const r=l-n;switch(e=u>.5?r/(2-l-n):r/(l+n),l){case a:o=(t-s)/r+(t<s?6:0);break;case t:o=(s-a)/r+2;break;case s:o=(a-t)/r+4;break}o/=6}return[o*360,e,u]}},hsl:{darken:([a,t,s],l=.3)=>[a,t,Math.max(0,s-l)],toCSS:([a,t,s])=>`hsl(${a.toFixed(0)}, ${(t*100).toFixed(0)}%, ${(s*100).toFixed(0)}%)`,toHex:(a,t,s)=>{const l=t*Math.min(s,1-s),n=c=>{const v=(c+a/30)%12;return s-l*Math.max(-1,Math.min(Math.min(v-3,9-v),1))},o=c=>Math.round(255*n(c)).toString(16).padStart(2,"0"),e=o(0),u=o(8),r=o(4);return`#${e}${u}${r}`}}},da=new he,d=me({init:!1,queue:[],qi:0,playing:!1,controls:{loop:!1,shuffle:!1},fetch:0,t:0,dur:0,audioElm:new Audio,meta:{id:"",title:"Nothing playing",img:"",artist:"",album:"",color:"#7008e7",lyrics:{type:"plain",content:[],id:0}}}),p={get info(){return d},meta:{init:()=>{"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",()=>{p.playback.resume()}),navigator.mediaSession.setActionHandler("pause",()=>{p.playback.pause()}),navigator.mediaSession.setActionHandler("seekbackward",()=>{d.audioElm.currentTime-=10}),navigator.mediaSession.setActionHandler("seekforward",()=>{d.audioElm.currentTime+=10}),navigator.mediaSession.setActionHandler("previoustrack",p.playback.previous),navigator.mediaSession.setActionHandler("nexttrack",p.playback.next),navigator.mediaSession.setActionHandler("stop",()=>{d.audioElm.pause(),p.info.playing=!1}))},sync:()=>{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:d.meta.title,artist:d.meta.artist,album:d.meta.album,artwork:[{src:d.meta.img,sizes:"150x150",type:"image/png"}]}))}},playback:{play:async(a,t,s=!0)=>{d.init===!1&&(d.init=!0,p.meta.init()),s&&(d.queue=[...d.queue,{url:t,meta:a}],d.qi=d.queue.length-1),t=t.replace("http://","https://"),d.meta={...d.meta,...a};{const l=new Image;l.addEventListener("load",function(){const n=da.getColor(l);let o=ct.rgb.toHsl(...n);o[2]=.3;const e=ct.hsl.toHex(...o);d.meta.color=e}),l.crossOrigin="Anonymous",l.src=d.meta.img}d.audioElm.load(),d.audioElm.pause(),d.audioElm.src=t,d.audioElm.controls=!0,d.fetch=0,d.dur=0,d.t=0,d.audioElm.onloadedmetadata=()=>{d.dur=d.audioElm.duration,p.playback.loadLyrics()},d.audioElm.play().catch(l=>console.error("Playback failed:",l)),d.audioElm.currentTime=0,d.audioElm.ontimeupdate=()=>{d.t=d.audioElm.currentTime},d.audioElm.onprogress=()=>{const l=d.audioElm.buffered,n=d.audioElm.duration;if(l.length>0&&n>0){const o=l.end(l.length-1);d.fetch=o/n*100}},d.audioElm.onended=()=>{p.playback.next()},p.info.playing=!0,p.meta.sync()},seekTo:a=>{a<0&&(a=0),a>d.dur&&(a=d.dur),d.audioElm.currentTime=a,d.t=a},appendQueue:async(a,t)=>{t=t.replace("http://","https://"),d.queue=[...d.queue,{url:t,meta:a}]},loadLyrics:()=>{const a=d.meta.title?d.meta.title.trim().toLowerCase():"",t=d.meta.album?d.meta.album.trim().toLowerCase():"",s=d.meta.artist?d.meta.artist.trim().toLowerCase():"";fetch(`https://lrclib.net/api/search?track_name=${encodeURIComponent(d.meta.title)}`).then(l=>l.json()).then(l=>{if(!Array.isArray(l)||l.length===0){console.warn("No lyrics found.");return}const n=l.filter(r=>r.syncedLyrics&&r.syncedLyrics.trim()!=="");if(n.length===0){console.warn("No candidates with synced lyrics found.");return}const o=n.filter(r=>{const c=(r.title||r.name||r.trackName||"").trim().toLowerCase(),v=(r.album||r.albumName||"").trim().toLowerCase();let _="";return r.artist?_=r.artist.trim().toLowerCase():r.artistName?_=r.artistName.trim().toLowerCase():r.artistMap&&r.artistMap.primary_artists&&r.artistMap.primary_artists.length&&(_=r.artistMap.primary_artists[0].name.trim().toLowerCase()),c===a&&v===t&&_===s});let e;o.length>0?e=o.reduce((r,c)=>Math.abs(c.duration-d.dur)<Math.abs(r.duration-d.dur)?c:r):e=n.map(g=>{let E=Math.abs(g.duration-d.dur)*1;const S=(g.title||g.name||g.trackName||"").trim().toLowerCase(),k=(g.album||g.albumName||"").trim().toLowerCase();let q="";return g.artist?q=g.artist.trim().toLowerCase():g.artistName?q=g.artistName.trim().toLowerCase():g.artistMap&&g.artistMap.primary_artists&&g.artistMap.primary_artists.length&&(q=g.artistMap.primary_artists[0].name.trim().toLowerCase()),t&&k!==t&&(E+=20),s&&q!==s&&(E+=20),a&&S!==a&&(E+=20),{candidate:g,score:E}}).reduce((g,E)=>E.score<g.score?E:g).candidate;const u=e.syncedLyrics.split(`
`).map(r=>{const c=/^\[(\d{2}):(\d{2}\.\d{2})\]\s*(.*)$/.exec(r);if(c){const v=parseInt(c[1],10),_=parseFloat(c[2]);return{time:v*60+_,text:c[3]}}return{time:0,text:r}}).filter(r=>r.text&&r.text.trim()!=="");d.meta.lyrics={type:"synced",content:u,id:e.id}}).catch(l=>console.error("Lyrics fetch failed:",l))},pause:()=>{d.audioElm.pause(),p.info.playing=!1},resume:()=>{d.audioElm.play().catch(a=>console.error("Resume failed:",a)),p.info.playing=!0},next:()=>{d.qi<d.queue.length-1?(d.qi++,p.playback.play(d.queue[d.qi].meta,d.queue[d.qi].url,!1)):d.controls.loop&&(d.qi=0,p.playback.play(d.queue[d.qi].meta,d.queue[d.qi].url,!1))},previous:()=>{d.qi>0&&(d.qi--,p.playback.play(d.queue[d.qi].meta,d.queue[d.qi].url,!1))}}},ua={host:"",headers:{},query:async a=>{},getDownloadableURL:async a=>{},getStreamURL:async a=>{},helpers:{}},Q=Object.create(ua);Q.host=`${ut}${encodeURIComponent("https://www.jiosaavn.com/api.php")}`;Q.headers={Host:"www.saavn.com",Accept:"*/*","User-Agent":"Saavn (iPhone)","Accept-Language":"en-IN;q=1.0, ml-IN;q=0.9, hi-IN;q=0.8","Accept-Encoding":"br;q=1.0, gzip;q=0.9, deflate;q=0.8",Connection:"keep-alive",Cookie:{ssid:"did_v1_79D9162F-4F77-4B42-8D86-5EC214467860.1741341828.67317",_pl:"iphoneapp-"}};Q.helpers.decryptURL=a=>{if(!a)return[];const t="38346591",s="00000000",l=xe.util.decode64(a),n=xe.cipher.createDecipher("DES-ECB",xe.util.createBuffer(t));n.start({iv:xe.util.createBuffer(s)}),n.update(xe.util.createBuffer(l)),n.finish();const o=n.output.getBytes();return[{quality:"12kbps",url:o.replace("_96","_12")},{quality:"48kbps",url:o.replace("_96","_48")},{quality:"96kbps",url:o},{quality:"160kbps",url:o.replace("_96","_160")},{quality:"320kbps",url:o.replace("_96","_320")}]};Q.helpers.fetchLibrary=async a=>{const t={...Q.headers,Cookie:`ssid=did_v1_79D9162F-4F77-4B42-8D86-5EC214467860.1741341828.673173; _pl=iphoneapp-; I=${decodeURIComponent("SLCIdaC3Pwa5slQDrYdXuNljlkFgcTbQMkQY5netgFwiGxtz4HzvNkh7s0XL2KeO0SvzriK//vJu+0TeJLbnx2HP8fFR6TdJVFXfkt4DLmMaVdwF1r9O9wuHIhZUzcgGa4qKL9e1eQdNNRsyHkFK1oPdf3AV9E17HA12+ZMnC1bZJNwiQo2+oMowyPQv80EwNAhd7qIZkKCW2uthbZXLufT/nIkDeelVQ/JHE0m4OVIUtBdqsSazT6rBuLgWLdNaDghnjdsgtRJvqwIj2zQsova0gmeWC79w6ZCoNGlGfjiOZqxOh3zbAp9iDfXQRTsxn181HjE4AvH9HuuKZlFwCQ==")};`,"User-Agent":"Saavn/9.16.1 (iPhone; iOS 18.4; Scale/3.00)"};return await vt(`${ut}${encodeURIComponent("https://wwww.saavn.com/api.php?_marker=false&_format=json&api_version=4&cc=91&__call=library.getAll&move_artist_pref=true")}`,JSON.stringify({headers:t,method:"GET"}))};Q.helpers.toTrackT=async a=>{var l;const t=await Q.getDownloadableURLs(a);if(t.length==0){console.error("no media url found for track");return}const s=(l=t.at(-1))==null?void 0:l.url;return{meta:{id:a.id,title:a.title,img:a.image.replace("http://","https://"),artist:a.more_info.artistMap.primary_artists[0].name||"",album:a.more_info.album||""},url:s}};Q.query=async a=>await vt(`${Q.host}${encodeURIComponent(`?p=1&q=${a}&_format=json&_marker=0&api_version=4&ctx=web6dot0&n=30&__call=search.getResults`)}`,JSON.stringify({headers:Q.headers,method:"GET"}));Q.getDownloadableURLs=async a=>Q.helpers.decryptURL(a.more_info.encrypted_media_url);const va=async(a,t,s)=>{fe(t,x(t).trim(),!0);const l=await Q.helpers.toTrackT(s().select.track);ze.playlist.create(x(t),"",[l]),X(F,$(s).sheets.selectPlaylist=!1,$(s)),X(F,$(s).sheets.actions=!1,$(s))},dt=(a,t,s)=>{x(t).forEach(async l=>{const n=l.tracks.find(o=>o.meta.id==s().select.track.id);if(!(l.selected&&n||!l.selected&&!n))if(l.selected&&!n){const o=await Q.helpers.toTrackT(s().select.track);ze.playlist.add(l.id,o)}else!l.selected&&n&&ze.playlist.remove(l.id,s().select.track.id)}),X(F,$(s).sheets.selectPlaylist=!1,$(s)),X(F,$(s).sheets.actions=!1,$(s))};var pa=H('<li class="flex flex-row space-x-1 border-b-1 border-black/20 dark:border-white/20 py-2"><div class="inline-flex items-center"><label class="relative flex cursor-pointer items-center rounded-full p-1 px-2" for="ripple-on"><input id="ripple-on" type="checkbox" class="peer relative h-[1.25em] aspect-square cursor-pointer appearance-none rounded-sm border border-gray-300 shadow-sm transition-all before:absolute before:top-2/4 before:left-2/4 before:block before:h-12 before:w-12 before:-translate-y-2/4 before:-translate-x-2/4 before:rounded-full before:bg-white/50 before:opacity-0 before:transition-opacity checked:border-black/20 dark:checked:bg-violet-600 checked:bg-violet-500 checked:before:bg-transparent hover:before:opacity-5"> <span class="pointer-events-none absolute top-2/4 left-2/4 -translate-y-2/4 -translate-x-2/4 text-white opacity-0 transition-opacity peer-checked:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" viewBox="0 0 20 20" fill="currentColor" stroke="currentColor" stroke-width="1"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></span></label></div> <p class="w-full truncate"> </p></li>'),fa=H(`<li><p>You haven't created any playlists yet. <span class="text-white/50">Start by creating a playlist to organize and access your songs
              effortlessly.</span></p></li>`),ma=H('<i>"<!>"</i>'),ha=H('<li><p>Create <!> playlist with <i>"<!>"</i></p></li>'),ba=H('<button class="absolute top-0 w-full h-[25dvh]" aria-label="close sheet"></button> <div class="flex flex-col absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-[50dvh] w-[95dvw] px-2 bg-gray-200 dark:bg-zinc-900 rounded-lg text-md text-black dark:text-white"><p class="w-full text-center text-lg font-medium mb-[1ch] py-1">Select playlist</p> <div class="flex flex-row items-center justify-around space-x-2"><div class="w-full max-w-120 relative"><input type="text" autocomplete="off" spellcheck="false" id="playlist-name-input" class="p-0.5 px-2 pt-3 w-full text-[16px] text-black dark:text-white bg-transparent rounded-lg ring-1 ring-black/50 dark:ring-white/50 invalid:ring-red-600 dark:invalid:ring-red-500 dark:focus:ring-blue-500 focus:outline-hidden focus:ring-blue-600 peer appearance-none" placeholder=" "> <label for="playlist-name-input" class="absolute text-sm text-black/75 dark:text-white/75 duration-300 transform -translate-y-4 scale-[85%] px-1.5 top-2 z-10 origin-[0] bg-gray-200 dark:bg-zinc-900 peer-focus:px-1.5 peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-[85%] peer-focus:-translate-y-4 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto start-1">playlist name</label></div> <button class="bg-blue-500 dark:bg-blue-400 text-white dark:text-black rounded-md disabled:bg-black/50 dark:disabled:bg-white/50">create</button></div> <ul class="mt-[1ch] space-y-1 overflow-y-scroll flex-col-reverse"><!></ul></div> <button class="absolute bottom-0 w-full h-[25dvh]" aria-label="close sheet"></button>',1);function ga(a,t){Ne(t,!0);const[s,l]=et(),n=()=>Ke(F,"$ViewInfo",s);let o=ke(""),e=ke(me([])),u=Xe(()=>x(e).filter(C=>C.title.toLowerCase().includes(x(o).trim().toLowerCase()))),r=Xe(()=>x(u).length==0);Te(()=>{fe(e,ze.playlist.getAll().map(C=>{let h=!1;return C.tracks.length>0&&C.tracks.find(f=>f.meta.id==n().select.track.id)&&(h=!0),{...C,selected:h}}),!0)});var c=ba(),v=ne(c);v.__click=[dt,u,n];var _=b(v,2),y=b(m(_),2),g=m(y),E=m(g),S=b(g,2);S.__click=[va,o,n];var k=b(y,2),q=m(k);{var L=C=>{var h=$e(),f=ne(h);Ze(f,17,()=>x(u),je,(w,M,Z)=>{var T=pa(),j=m(T),R=m(j),I=m(R),G=b(j,2),V=m(G);J(()=>te(V,x(M).title)),It(I,()=>x(M).selected,O=>x(M).selected=O),A(w,T)},w=>{var M=fa();A(w,M)}),A(C,h)},z=C=>{var h=ha(),f=m(h),w=b(m(f));{var M=j=>{var R=ma(),I=b(m(R));pe(I,()=>x(o)),A(j,R)};P(w,j=>{x(o).length>0&&j(M)})}var Z=b(w,2),T=b(m(Z));pe(T,()=>n().select.track.title),A(C,h)};P(q,C=>{x(r)?C(z,!1):C(L)})}var D=b(_,2);D.__click=[dt,u,n],J(()=>S.disabled=!x(r)),Se(E,()=>x(o),C=>fe(o,C)),A(a,c),Ie(),l()}Be(["click"]);var wa=(a,t)=>{a.target==(a==null?void 0:a.currentTarget)&&X(F,$(t).sheets.actions=!1,$(t))},_a=(a,t)=>{X(F,$(t).sheets.actions=!1,$(t))},xa=(a,t)=>t(),ka=(a,t)=>X(F,$(t).sheets.selectPlaylist=!0,$(t)),ya=(a,t)=>{window.open(t().select.track.perma_url,"_blank")},Ma=H('<button aria-label="close sheet" class="w-screen h-[70dvh] bottom-[30dvh]"></button> <div class="absolute -bottom-[0px] left-1/2 -translate-x-1/2 h-[30dvh] w-[95dvw] bg-gray-200 dark:bg-zinc-900 rounded-t-lg text-md"><p class="w-full text-center text-lg font-medium text-black dark:text-white py-1 border-b-1 border-black/20 dark:border-white/20">Actions</p> <button class="bottom-[calc(30dvh-1.725rem)] p-0 absolute right-[1ch]" aria-label="close sheet"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="size-6 dark:fill-white fill-black"><path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z" clip-rule="evenodd"></path></svg></button> <ul class="more-actions-sheet-ul text-black dark:text-white"><li><button class="w-full text-left"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-[1.2em] inline mr-2 ml-4"><path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z" clip-rule="evenodd"></path></svg> Add to queue</button></li> <li><button class="w-full text-left"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-[1.2em] inline mr-2 ml-4"><path fill-rule="evenodd" d="M19.5 21a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-5.379a.75.75 0 0 1-.53-.22L11.47 3.66A2.25 2.25 0 0 0 9.879 3H4.5a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h15Zm-6.75-10.5a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V10.5Z" clip-rule="evenodd"></path></svg> Add to playlist</button></li> <li><button class="w-full text-left"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-[1.2em] inline mr-2 ml-4"><path fill-rule="evenodd" d="M19.902 4.098a3.75 3.75 0 0 0-5.304 0l-4.5 4.5a3.75 3.75 0 0 0 1.035 6.037.75.75 0 0 1-.646 1.353 5.25 5.25 0 0 1-1.449-8.45l4.5-4.5a5.25 5.25 0 1 1 7.424 7.424l-1.757 1.757a.75.75 0 1 1-1.06-1.06l1.757-1.757a3.75 3.75 0 0 0 0-5.304Zm-7.389 4.267a.75.75 0 0 1 1-.353 5.25 5.25 0 0 1 1.449 8.45l-4.5 4.5a5.25 5.25 0 1 1-7.424-7.424l1.757-1.757a.75.75 0 1 1 1.06 1.06l-1.757 1.757a3.75 3.75 0 1 0 5.304 5.304l4.5-4.5a3.75 3.75 0 0 0-1.035-6.037.75.75 0 0 1-.354-1Z" clip-rule="evenodd"></path></svg> Share</button></li> <li><button class="w-full text-left text-blue-500 dark:text-blue-400"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-[1.2em] inline mr-2 ml-4"><path fill-rule="evenodd" d="M19.902 4.098a3.75 3.75 0 0 0-5.304 0l-4.5 4.5a3.75 3.75 0 0 0 1.035 6.037.75.75 0 0 1-.646 1.353 5.25 5.25 0 0 1-1.449-8.45l4.5-4.5a5.25 5.25 0 1 1 7.424 7.424l-1.757 1.757a.75.75 0 1 1-1.06-1.06l1.757-1.757a3.75 3.75 0 0 0 0-5.304Zm-7.389 4.267a.75.75 0 0 1 1-.353 5.25 5.25 0 0 1 1.449 8.45l-4.5 4.5a5.25 5.25 0 1 1-7.424-7.424l1.757-1.757a.75.75 0 1 1 1.06 1.06l-1.757 1.757a3.75 3.75 0 1 0 5.304 5.304l4.5-4.5a3.75 3.75 0 0 0-1.035-6.037.75.75 0 0 1-.354-1Z" clip-rule="evenodd"></path></svg> Open song source</button></li></ul></div>',1);function La(a,t){Ne(t,!1);const[s,l]=et(),n=()=>Ke(F,"$ViewInfo",s),o=async()=>{var z;const q=await Q.getDownloadableURLs(n().select.track);if(q.length==0){console.error("no media url found for track");return}const L=(z=q.at(-1))==null?void 0:z.url;p.playback.appendQueue({id:n().select.track.id,title:n().select.track.title,img:n().select.track.image.replace("http://","https://"),artist:n().select.track.more_info.artistMap.primary_artists[0].name||"",album:n().select.track.more_info.album||""},L),X(F,$(n).sheets.actions=!1,$(n))};Ft();var e=Ma(),u=ne(e);u.__click=[wa,n];var r=b(u,2),c=b(m(r),2);c.__click=[_a,n];var v=b(c,2),_=m(v),y=m(_);y.__click=[xa,o];var g=b(_,2),E=m(g);E.__click=[ka,n];var S=b(g,4),k=m(S);k.__click=[ya,n],A(a,e),Ie(),l()}Be(["click"]);var Ca=H('<meta property="theme-color" content="#000">'),Aa=H('<div class="backdrop-blur-lg backdrop-brightness-40 absolute top-0 left-0 h-full w-full flex flex-col items-center justify-center"><h1 class="text-2xl font-medium text-center mt-8"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-[1em] mr-2 animate-spin inline" style="animation-duration: 750ms;"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>Loading...</h1> <p class="text-black/80 dark:text-white/50 text-center text-sm max-w-[75%]">Svara loads pages on-demand, so you only get what you need</p></div>'),Ea=H('<div class="h-full bg-black/20 dark:bg-white/20 absolute"></div>'),Sa=H('<img alt="song thumbnail" id="player-thumbnail" class="h-[6dvh] aspect-square rounded-md col-span-2 text-xs" style="view-transition-name: player-thumbnail;">'),qa=(a,t)=>{document.startViewTransition?document.startViewTransition(()=>X(F,$(t).sheets.track=!0,$(t))):X(F,$(t).sheets.track=!0,$(t))},Ta=H('<button class="p-0 m-0 col-span-8 pl-2"><p class="font-medium text-md text-left truncate" style="view-transition-name: player-title;"><!> <span class="font-normal text-sm text-black/80 dark:text-white/80 block" style="view-transition-name: player-artist"><!></span></p></button>'),$a=Pe('<path fill-rule="evenodd" d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z" clip-rule="evenodd"></path>'),za=Pe('<path fill-rule="evenodd" d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z" clip-rule="evenodd"></path>'),Za=H('<div class="h-[8dvh] w-[95dvw] ring-1 ring-black/10 dark:ring-white/10 bg-black/5 dark:bg-white/5 rounded-md backdrop-brightness-80 dark:backdrop-brightness-20 backdrop-blur-lg flex flex-row items-center px-[0.5dvh] pt-[0.5dvh] border-t border-white/5 dark:border-white/5 overflow-hidden"><div class="h-[2px] inset-0 w-full bg-black/5 dark:bg-white/5 absolute top-0 rounded-full overflow-hidden"><!> <div class="h-full bg-red-500 dark:bg-red-900 absolute z-10"></div></div> <!> <div class="grid grid-cols-10"><!> <button class="p-0 m-0 col-span-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-full mr-[1ch]"><!></svg></button> <button class="p-0 m-0 col-span-1 disabled:text-black/25 dark:disabled:text-white/25" aria-label="next song"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-full mr-[1ch]"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div></div>'),ja=(a,t,s)=>{t(x(s))},Ha=H('<button><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><!></svg> </button>'),Da=(a,t)=>X(F,$(t).sheets.track=!1,$(t)),Na=(a,t)=>{X(F,$(t).sheets.actions=!0,$(t))},Ia=(a,t)=>{if(!t.is)return;const s=a.clientX-t.startX;t.current=Math.min(Math.max(t.initial+s/t.clientWidth,0),1)},Ba=H('<div class="h-full bg-black/20 dark:bg-white/20 absolute"></div>'),Pa=Pe('<path fill-rule="evenodd" d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z" clip-rule="evenodd"></path>'),Ra=Pe('<path fill-rule="evenodd" d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z" clip-rule="evenodd"></path>'),Ua=H('<div class="absolute top-0 left-0 w-dvw h-dvh bg-white/85 dark:bg-zinc-900/85 backdrop-blur-md overflow-y-scroll no-scrollbar"><div class="w-full flex flex-col items-center relative"><div class="flex flex-row justify-between w-full py-[2.5dvw] px-[2.5dvw] sticky top-0 bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md z-10"><button aria-label="close sheet" class="p-0 m-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="size-7 dark:fill-white/50 fill-black/50"><path fill-rule="evenodd" d="M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path></svg></button><button aria-label="close sheet" class="p-0 m-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="size-7 dark:fill-white/50 fill-black/50"><path fill-rule="evenodd" d="M10.5 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z" clip-rule="evenodd"></path></svg></button></div> <div class="w-[80dvw] max-w-[500px] max-h-[70dvh] rounded-md mt-[10dvh] overflow-hidden flex items-center justify-center"><img style="view-transition-name: player-thumbnail;" alt="song thumbnail" class="w-full h-full object-contain rounded-md shadow-white dark:shadow-black shadow-xs"></div> <div class="-space-y-1 mt-4 px-[2.5dvw] flex flex-col items-center"><h1 class="text-2xl font-bold line-clamp-1"><!></h1> <p style="view-transition-name: player-artist"><span class="text-black/50 dark:text-white/50">by</span> <!></p></div> <div class="mt-12"><div class="h-10 flex flex-col justify-center w-min -my-3" role="progressbar"><div><!> <div class="h-full bg-red-500 dark:bg-red-900 absolute"></div></div></div> <div class="flex flex-row justify-between items-center text-sm"><p> </p> <p> </p></div></div> <div class="flex flex-row items-center justify-evenly w-[95dvw] mt-4"><button aria-label="next song"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.75" stroke="currentColor" class="size-full"><path stroke-linecap="round" stroke-linejoin="round" d="M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"></path></svg></button> <button class="p-0 m-0 w-8 disabled:text-black/25 dark:disabled:text-white/25" aria-label="previous song"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-full"><path fill-rule="evenodd" d="M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z" clip-rule="evenodd"></path></svg></button> <button class="p-0 m-0 w-12"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-full"><!></svg></button> <button class="p-0 m-0 w-8 disabled:text-black/25 dark:disabled:text-white/25" aria-label="next song"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-full"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button> <button aria-label="next song"><svg xmlns="http://www.w3.org/2000/svg" fill="none" class="size-full" viewBox="0 0 24 24" stroke-width="1.75" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 0 0 3.7 3.7 48.656 48.656 0 0 0 7.324 0 4.006 4.006 0 0 0 3.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3-3 3"></path></svg></button></div> <!></div></div>'),Oa=H('<div class="absolute top-0 h-dvh w-dvw backdrop-brightness-15 bg-transparent"><!></div>'),Fa=H('<div class="w-[100dwv] h-dvh bg-white dark:bg-black text-black dark:text-white"><!> <!>  <div class="absolute h-[15dvh] -bottom-[0dvh] w-screen bg-linear-to-b from-white/0 dark:from-black/0 to-40% to-white dark:to-black"></div> <div class="absolute max-h-[19dvh] space-y-[1dvh] w-screen -bottom-[0dvh] flex flex-col items-center"><!> <div class="h-[10dvh] text-xs w-dvw bg-black/5 dark:bg-white/5 rounded-t-md backdrop-brightness-80 dark:backdrop-brightness-20 backdrop-blur-lg flex flex-row items-start justify-center overflow-hidden"></div></div> <!> <!> <!></div>');function Va(a,t){Ne(t,!0);const[s,l]=et(),n=()=>Ke(F,"$ViewInfo",s);let o=We(t,"jamInfo",19,()=>({create:!0})),e=me({initial:0,current:0,is:!1,startX:0,clientWidth:0});Te(()=>{u(Le.search)});const u=async h=>{h in r.views&&(r.views[h].component||(r.loading=!0,r.views[h].component=await r.views[h].loader(),r.loading=!1),X(F,$(n).tab=h,$(n)))};let r=me({loading:!1,views:{[Le.search]:{loader:()=>Qe(()=>import("./Search-zbmO2CCP.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])),path:{default:`<path stroke-linecap="round" stroke-linejoin="round" d="m15.75 15.75-2.489-2.489m0 0a3.375 3.375 0 1 0-4.773-4.773 3.375 3.375 0 0 0 4.774 4.774ZM21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
`,selected:`<path
              d="M8.25 10.875a2.625 2.625 0 1 1 5.25 0 2.625 2.625 0 0 1-5.25 0Z"
            />
            <path
              fill-rule="evenodd"
              d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.125 4.5a4.125 4.125 0 1 0 2.338 7.524l2.007 2.006a.75.75 0 1 0 1.06-1.06l-2.006-2.007a4.125 4.125 0 0 0-3.399-6.463Z"
              clip-rule="evenodd"
            />`}},[Le.library]:{loader:()=>Qe(()=>import("./Library-BZGa8NqV.js"),__vite__mapDeps([14,1,2,4,5,3,11,6,7,8,9,10,12,13])),path:{default:`
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" />
`,selected:`<path
            d="M11.25 4.533A9.707 9.707 0 0 0 6 3a9.735 9.735 0 0 0-3.25.555.75.75 0 0 0-.5.707v14.25a.75.75 0 0 0 1 .707A8.237 8.237 0 0 1 6 18.75c1.995 0 3.823.707 5.25 1.886V4.533ZM12.75 20.636A8.214 8.214 0 0 1 18 18.75c.966 0 1.89.166 2.75.47a.75.75 0 0 0 1-.708V4.262a.75.75 0 0 0-.5-.707A9.735 9.735 0 0 0 18 3a9.707 9.707 0 0 0-5.25 1.533v16.103Z"
          />`}},[Le.settings]:{loader:()=>Qe(()=>import("./Settings-DA-pUJla.js"),__vite__mapDeps([15,1,2,13])),path:{default:`
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z" />
  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
`,selected:`<path
            fill-rule="evenodd"
            d="M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z"
            clip-rule="evenodd"
          />`}}}});Te(()=>{const h=Date.now();Object.keys(localStorage).forEach(f=>{f.startsWith("cache-search-")&&JSON.parse(localStorage.getItem(f)).expiry<h&&localStorage.removeItem(f)})});var c=Fa();jt(h=>{var f=Ca();J(w=>zt.title=`${w??""} - Svara`,[()=>ca.capitalize(n().tab)]),A(h,f)});var v=m(c);Ze(v,17,()=>Object.keys(r.views),je,(h,f)=>{var w=$e(),M=ne(w);{var Z=T=>{var j=$e();const R=Xe(()=>r.views[x(f)].component);var I=ne(j);Zt(I,()=>x(R).default,(G,V)=>{V(G,{})}),A(T,j)};P(M,T=>{r.views[x(f)].component&&T(Z)})}A(h,w)});var _=b(v,2);{var y=h=>{var f=Aa();oe(3,f,()=>ce,()=>({duration:150,delay:100})),A(h,f)};P(_,h=>{r.loading&&h(y)})}var g=b(_,4),E=m(g);{var S=h=>{var f=Za(),w=m(f),M=m(w);{var Z=N=>{var U=Ea();J(()=>Ae(U,`width: ${p.info.fetch??""}%;`)),A(N,U)};P(M,N=>{p.info.fetch!=0&&N(Z)})}var T=b(M,2),j=b(w,2);{var R=N=>{var U=Sa();J(()=>Ge(U,"src",p.info.meta.img)),A(N,U)};P(j,N=>{n().sheets.track||N(R)})}var I=b(j,2),G=m(I);{var V=N=>{var U=Ta();U.__click=[qa,n];var ge=m(U),K=m(ge);pe(K,()=>p.info.meta.title);var ee=b(K,2),ue=m(ee);pe(ue,()=>p.info.meta.artist),A(N,U)};P(G,N=>{n().sheets.track||N(V)})}var O=b(G,2);O.__click=()=>{p.info.playing?p.playback.pause():p.playback.resume()};var ie=m(O),ae=m(ie);{var re=N=>{var U=$a();oe(3,U,()=>ce,()=>({duration:150})),A(N,U)},Y=N=>{var U=za();oe(3,U,()=>ce,()=>({duration:150})),A(N,U)};P(ae,N=>{p.info.playing?N(re):N(Y,!1)})}var se=b(O,2);se.__click=()=>{p.playback.next()},J(()=>{Ae(T,`width: ${p.info.t/p.info.dur*100}%;`),se.disabled=p.info.queue.length-1<=p.info.qi}),oe(3,w,()=>ce,()=>({duration:250})),A(h,f)};P(E,h=>{p.info.init&&h(S)})}var k=b(E,2);Ze(k,21,()=>Object.keys(r.views),je,(h,f)=>{var w=Ha();w.__click=[ja,u,f];var M=m(w),Z=m(M);pe(Z,()=>n().tab==x(f)?r.views[x(f)].path.selected:r.views[x(f)].path.default,!0);var T=b(M);J(()=>{ve(w,1,`w-full flex flex-col items-center justify-center ${n().tab==x(f)?"text-violet-600 dark:text-violet-500 font-medium":""}`),ve(M,0,`size-7 ${n().tab==x(f)?"fill-current":"stroke-current stroke-[1.5px] fill-none"}`),te(T,` ${x(f)??""}`)}),A(h,w)});var q=b(g,2);{var L=h=>{var f=Ua(),w=m(f),M=m(w),Z=m(M);Z.__click=[Da,n];var T=b(Z);T.__click=[Na,n];var j=b(M,2),R=m(j),I=b(j,2),G=m(I),V=m(G);pe(V,()=>p.info.meta.title);var O=b(G,2),ie=b(m(O),2);pe(ie,()=>p.info.meta.artist);var ae=b(I,2),re=m(ae);re.__pointerdown=B=>{e.is=!0,e.startX=B.clientX,e.initial=p.info.t/p.info.dur},re.__pointermove=[Ia,e],re.__pointerup=B=>{e.is=!1,p.playback.seekTo(e.current*p.info.dur)};var Y=m(re),se=m(Y);{var N=B=>{var W=Ba();J(()=>Ae(W,`width: ${p.info.fetch??""}%;`)),A(B,W)};P(se,B=>{p.info.fetch!=0&&B(N)})}var U=b(se,2),ge=b(re,2),K=m(ge),ee=m(K),ue=b(K,2),we=m(ue),tt=b(ae,2),Re=m(tt);Re.__click=()=>{p.info.controls.shuffle=!p.info.controls.shuffle};var Ue=b(Re,2);Ue.__click=()=>{p.playback.previous()};var Oe=b(Ue,2);Oe.__click=()=>{p.info.playing?p.playback.pause():p.playback.resume()};var mt=m(Oe),ht=m(mt);{var bt=B=>{var W=Pa();oe(3,W,()=>ce,()=>({duration:150})),A(B,W)},gt=B=>{var W=Ra();oe(3,W,()=>ce,()=>({duration:150})),A(B,W)};P(ht,B=>{p.info.playing?B(bt):B(gt,!1)})}var Fe=b(Oe,2);Fe.__click=()=>{p.playback.next()};var at=b(Fe,2);at.__click=()=>{p.info.controls.loop=!p.info.controls.loop};var wt=b(tt,2);{var _t=B=>{Ht(B,{get color(){return p.info.meta.color},get content(){return p.info.meta.lyrics.content},handleSeek:W=>{p.info.audioElm.currentTime=W},get time(){return p.info.t},set time(W){p.info.t=W}})};P(wt,B=>{p.info.meta.lyrics&&B(_t)})}J((B,W)=>{Ge(R,"src",p.info.meta.img),ve(Y,1,`${e.is?"h-[10px]":"min-h-[5px]"} w-[95dvw] bg-black/5 dark:bg-white/5 rounded-full overflow-hidden relative transition-transform duration-200`),Ae(U,`width: ${e.is?e.current*100:p.info.t/p.info.dur*100}%;`),te(ee,B),te(we,W),ve(Re,1,`p-0 m-0 w-6 ${p.info.controls.shuffle?"text-violet-500 dark:text-violet-600":""}`),Ue.disabled=p.info.qi<1,Fe.disabled=p.info.queue.length-1<=p.info.qi,ve(at,1,`p-0 m-0 w-6 ${p.info.controls.loop?"text-violet-500 dark:text-violet-600":""}`)},[()=>new Date(e.is?e.current*p.info.dur*1e3:p.info.t*1e3).toISOString().slice(14,19),()=>new Date(p.info.dur*1e3).toISOString().slice(14,19)]),Ot(Y,"clientWidth",B=>e.clientWidth=B),oe(1,f,()=>Ce,()=>({duration:500,y:750})),oe(2,f,()=>Ce,()=>({duration:500,y:750})),A(h,f)};P(q,h=>{n().sheets.track&&h(L)})}var z=b(q,2);{var D=h=>{var f=Oa(),w=m(f);{var M=T=>{ga(T,{})},Z=(T,j)=>{{var R=I=>{La(I,{})};P(T,I=>{n().sheets.actions&&I(R)},j)}};P(w,T=>{n().sheets.selectPlaylist?T(M):T(Z,!1)})}oe(1,f,()=>ce,()=>({duration:250})),oe(2,f,()=>ce,()=>({duration:250,delay:100})),A(h,f)};P(z,h=>{(n().sheets.actions||n().sheets.selectPlaylist)&&h(D)})}var C=b(z,2);sa(C,{get info(){return o()},get visible(){return n().sheets.jam},set visible(h){X(F,$(n).sheets.jam=h,$(n))}}),oe(3,k,()=>Ce,()=>({duration:500,y:100})),oe(3,g,()=>Ce,()=>({duration:250,y:100})),A(a,c),Ie(),l()}Be(["click","pointerdown","pointermove","pointerup"]);const sr=Object.freeze(Object.defineProperty({__proto__:null,default:Va},Symbol.toStringTag,{value:"Module"}));export{sr as D,Q as J,pe as h,p as u};
