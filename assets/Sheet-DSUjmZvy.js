var Z=s=>{throw TypeError(s)};var z=(s,t,e)=>t.has(s)||Z("Cannot "+e);var i=(s,t,e)=>(z(s,t,"read from private field"),e?e.call(s):t.get(s)),o=(s,t,e)=>t.has(s)?Z("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),d=(s,t,e,a)=>(z(s,t,"write to private field"),a?a.call(s,e):t.set(s,e),e),U=(s,t,e)=>(z(s,t,"access private method"),e);import{U as ie,a7 as re,a8 as ae,a9 as V,aa as ne,ab as le,ac as E,ad as oe,g as m,ae as de,af as he,ag as ce,i as b,p as fe,a as ue,B as ve,D as pe,f as me,c as q,b as be,d as ge,t as we,s as A,e as D,j as ye,L,N as G,I as _e,ah as J}from"./index-DlJuvb72.js";import{i as ke}from"./if--_cbd3ch.js";function K(s,t,...e){var a=s,n=V,r;ie(()=>{n!==(n=t())&&(r&&(ne(r),r=null),r=ae(()=>n(a,...e)))},re)}function xe(s,t,e,a){var n=s.__style;if(n!==t){var r=le(t);r==null?s.removeAttribute("style"):s.style.cssText=r,s.__style=t}return a}function Q(s){return Object.prototype.toString.call(s)==="[object Date]"}function B(s,t,e,a){if(typeof e=="number"||Q(e)){const n=a-e,r=(e-t)/(s.dt||1/60),f=s.opts.stiffness*n,T=s.opts.damping*r,N=(f-T)*s.inv_mass,j=(r+N)*s.dt;return Math.abs(j)<s.opts.precision&&Math.abs(n)<s.opts.precision?a:(s.settled=!1,Q(e)?new Date(e.getTime()+j):e+j)}else{if(Array.isArray(e))return e.map((n,r)=>B(s,t[r],e[r],a[r]));if(typeof e=="object"){const n={};for(const r in e)n[r]=B(s,t[r],e[r],a[r]);return n}else throw new Error(`Cannot spring ${typeof e} values`)}}var g,w,y,h,v,_,M,k,Y,c,S,C,W;const I=class I{constructor(t,e={}){o(this,C);o(this,g,E(.15));o(this,w,E(.8));o(this,y,E(.01));o(this,h,E(void 0));o(this,v,E(void 0));o(this,_);o(this,M,0);o(this,k,1);o(this,Y,0);o(this,c,null);o(this,S,null);i(this,h).v=i(this,v).v=t,typeof e.stiffness=="number"&&(i(this,g).v=H(e.stiffness,0,1)),typeof e.damping=="number"&&(i(this,w).v=H(e.damping,0,1)),typeof e.precision=="number"&&(i(this,y).v=e.precision)}static of(t,e){const a=new I(t(),e);return oe(()=>{a.set(t())}),a}set(t,e){var n,r;if((n=i(this,S))==null||n.reject(new Error("Aborted")),e!=null&&e.instant||i(this,h).v===void 0)return(r=i(this,c))==null||r.abort(),d(this,c,null),m(i(this,h),m(i(this,v),t)),d(this,_,t),Promise.resolve();e!=null&&e.preserveMomentum&&(d(this,k,0),d(this,Y,e.preserveMomentum));var a=d(this,S,ce());return a.promise.catch(V),U(this,C,W).call(this,t).then(()=>{a===i(this,S)&&a.resolve(void 0)}),a.promise}get current(){return b(i(this,h))}get damping(){return b(i(this,w))}set damping(t){m(i(this,w),H(t,0,1))}get precision(){return b(i(this,y))}set precision(t){m(i(this,y),t)}get stiffness(){return b(i(this,g))}set stiffness(t){m(i(this,g),H(t,0,1))}get target(){return b(i(this,v))}set target(t){this.set(t)}};g=new WeakMap,w=new WeakMap,y=new WeakMap,h=new WeakMap,v=new WeakMap,_=new WeakMap,M=new WeakMap,k=new WeakMap,Y=new WeakMap,c=new WeakMap,S=new WeakMap,C=new WeakSet,W=function(t){var a;if(m(i(this,v),t),(a=i(this,h)).v??(a.v=t),i(this,_)??d(this,_,i(this,h).v),!i(this,c)){d(this,M,de.now());var e=1e3/(i(this,Y)*60);i(this,c)??d(this,c,he(n=>{d(this,k,Math.min(i(this,k)+e,1));const r=Math.min(n-i(this,M),1e3/30),f={inv_mass:i(this,k),opts:{stiffness:i(this,g).v,damping:i(this,w).v,precision:i(this,y).v},settled:!0,dt:r*60/1e3};var T=B(f,i(this,_),i(this,h).v,i(this,v).v);return d(this,_,i(this,h).v),d(this,M,n),m(i(this,h),T),f.settled&&d(this,c,null),!f.settled}))}return i(this,c).promise};let F=I;function H(s,t,e){return Math.max(t,Math.min(e,s))}const Me=(s,t,e)=>{t(s.target)||(e.held=!0,e.originY=s.touches[0].clientY)};var Se=(s,t)=>t(!1),Te=we('<div class="w-screen h-screen absolute top-0 overflow-y-hidden" id="collapse-sheet"><div class="w-full h-full backdrop-brightness-40 relative top-0"></div> <div class="bg-white/85 dark:bg-zinc-900/85 backdrop-blur-md w-full h-[95vh] absolute rounded-t-[1em] overflow-clip"><div class="mt-[1vh] w-full h-[5px] flex flex-col items-center justify-center"><div class="bg-black/50 dark:bg-white/50 w-[5ch] h-full rounded-full"></div></div> <div class="w-full flex flex-row justify-center h-[7.5%] mt-[5%] relative border-b border-black/25 dark:border-white/25 text-2xl font-black"><!> <button class="-top-[calc(1vh+5px)] absolute right-[1ch]" aria-label="close sheet"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="size-6 dark:fill-white fill-black"><path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z" clip-rule="evenodd"></path></svg></button></div> <div class="px-2 pt-4 h-[87.5%] flex flex-col items-center justify-start"><!></div></div></div>');function Ae(s,t){fe(t,!0);let e=ue(t,"visible",15,!1);const a=ve({held:!1,originY:0}),n=new F(0,{stiffness:.15,damping:.8});let r=!1,f=_e(()=>r?0:250);function T(p){let l=p;for(;l.id!=="collapse-sheet";){const x=window.getComputedStyle(l).overflowY;if((x==="auto"||x==="scroll")&&l.scrollHeight>l.clientHeight&&l.scrollTop>0)return!0;l=l.parentElement}return!1}const N=p=>{if(!a.held)return;const l=a.originY-p.touches[0].clientY;l<0&&(n.target=l)},j=()=>{a.held=!1,-n.current>document.body.clientHeight/3?(r=!0,n.target=-document.body.clientHeight,setTimeout(()=>{e(!1),n.target=0,r=!1},300)):n.target=0};var O=pe(),X=me(O);{var $=p=>{var l=Te(),x=D(l),u=A(x,2);u.__touchstart=[Me,T,a],u.__touchmove=N,u.__touchend=j;var P=A(D(u),2),R=D(P);K(R,()=>t.title);var ee=A(R,2);ee.__click=[Se,e];var te=A(P,2),se=D(te);K(se,()=>t.body),ye(()=>xe(u,`bottom: 0px; transform: translate3d(0, ${-n.current}px, 0); will-change: transform;`)),L(1,x,()=>G,()=>({duration:300})),L(2,x,()=>G,()=>({duration:500})),L(1,u,()=>J,()=>({duration:b(f)})),L(2,u,()=>J,()=>({duration:b(f)})),q(p,l)};ke(X,p=>{e()&&p($)})}q(s,O),be()}ge(["touchstart","touchmove","touchend","click"]);export{Ae as S,xe as s};
